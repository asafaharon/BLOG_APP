{% extends 'base.html' %}

{% block content %}
<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="text-center mb-4">
                <h1 class="display-6 fw-bold text-primary">Create Your Account</h1>
                <p class="text-muted">Join our community and start sharing your thoughts</p>
            </div>

            <div class="card border-0 shadow-lg rounded-3">
                <div class="card-body p-4 p-md-5">
                    <form method="POST" class="needs-validation" novalidate>
                        <div class="form-group mb-4">
                            <label for="username" class="form-label fw-medium">Username</label>
                            <div class="input-group">
                                <span class="input-group-text bg-light border-end-0">
                                    <svg width="16" height="16" fill="currentColor" class="text-muted" viewBox="0 0 16 16">
                                        <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"/>
                                    </svg>
                                </span>
                                <input type="text" name="username" id="username"
                                    class="form-control bg-light border-start-0"
                                    placeholder="Choose a username"
                                    pattern="^[a-zA-Z0-9_]{3,20}$"
                                    required>
                                <div class="invalid-feedback">
                                    Username must be 3-20 characters long and can contain letters, numbers, and underscores.
                                </div>
                            </div>
                        </div>

                        <div class="form-group mb-4">
                            <label for="email" class="form-label fw-medium">Email Address</label>
                            <div class="input-group">
                                <span class="input-group-text bg-light border-end-0">
                                    <svg width="16" height="16" fill="currentColor" class="text-muted" viewBox="0 0 16 16">
                                        <path d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2zm13 2.383l-4.708 2.825L15 11.105V5.383zm-.034 6.876l-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741zM1 11.105l4.708-2.897L1 5.383v5.722z"/>
                                    </svg>
                                </span>
                                <input type="email" name="email" id="email"
                                    class="form-control bg-light border-start-0"
                                    placeholder="Enter your email address"
                                    required>
                                <div class="invalid-feedback">
                                    Please enter a valid email address.
                                </div>
                            </div>
                        </div>

                        <div class="form-group mb-4">
                            <label for="password" class="form-label fw-medium">Password</label>
                            <div class="input-group">
                                <span class="input-group-text bg-light border-end-0">
                                    <svg width="16" height="16" fill="currentColor" class="text-muted" viewBox="0 0 16 16">
                                        <path d="M3.5 11.5a3.5 3.5 0 1 1 3.163-5H14L15.5 8 14 9.5l-1-1-1 1-1-1-1 1-1-1-1 1H6.663a3.5 3.5 0 0 1-3.163 2zM2.5 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/>
                                    </svg>
                                </span>
                                <input type="password" name="password" id="password"
                                    class="form-control bg-light border-start-0"
                                    placeholder="Create a strong password"
                                    pattern="^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$"
                                    required>
                                <div class="invalid-feedback">
                                    Password must be at least 8 characters long and include both letters and numbers.
                                </div>
                            </div>
                            <div class="form-text mt-2">
                                <small class="text-muted">
                                    <svg width="14" height="14" fill="currentColor" class="me-1" viewBox="0 0 16 16">
                                        <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"/>
                                    </svg>
                                    Use 8+ characters with a mix of letters and numbers
                                </small>
                            </div>
                        </div>

                        <button type="submit" class="btn btn-primary w-100 py-2 mt-3 mb-4 fw-medium">
                            Create Account
                        </button>

                        <div class="text-center">
                            <p class="mb-0 text-muted">
                                Already have an account?
                                <a href="{{ url_for('auth.login') }}" class="text-primary text-decoration-none fw-medium">
                                    Sign in
                                </a>
                            </p>
                        </div>
                    </form>
                </div>
            </div>

            <div class="text-center mt-4">
                <small class="text-muted">
                    By creating an account, you agree to our
                    <a href="#" class="text-decoration-none">Terms of Service</a> and
                    <a href="#" class="text-decoration-none">Privacy Policy</a>
                </small>
            </div>
        </div>
    </div>
</div>

<script>
    // Form validation
    (function () {
        'use strict'
        var forms = document.querySelectorAll('.needs-validation')
        Array.prototype.slice.call(forms).forEach(function (form) {
            form.addEventListener('submit', function (event) {
                if (!form.checkValidity()) {
                    event.preventDefault()
                    event.stopPropagation()
                }
                form.classList.add('was-validated')
            }, false)
        })
    })()
</script>
{% endblock %}